
Что происходит, когда вы делаете DNS-запрос


 Когда вы запрашиваете доменное имя, ваш компьютер сначала проверяет свой локальный кэш, 
чтобы узнать, не искали ли вы адрес ранее; если нет, будет сделан запрос к вашему рекурсивному DNS-серверу.


Рекурсивный DNS-сервер обычно предоставляется вашим интернет-провайдером, но вы также можете выбрать свой собственный. 
На этом сервере также есть локальный кэш недавно найденных доменных имен. Если результат найден локально, он отправляется обратно на ваш компьютер, 
и на этом ваш запрос заканчивается (это обычное дело для популярных и востребованных сервисов, таких как Google, Facebook, Twitter). 
Если запрос не может быть найден локально, начинается поиск правильного ответа, начиная с корневых DNS-серверов Интернета.

Вопрос: Какой тип DNS-сервера обычно предоставляет ваш интернет-провайдер?


Корневые серверы выступают в качестве DNS-основы Интернета; их работа заключается в том, чтобы перенаправить вас на нужный сервер домена верхнего уровня, 
в зависимости от вашего запроса. Если, например, вы запросите www.tryhackme.com, корневой сервер распознает домен верхнего уровня .com и направит вас к нужному серверу TLD, 
который работает с .com адресами.


Сервер TLD хранит записи о том, где найти авторитативный сервер для ответа на запрос DNS. 
Авторитативный сервер часто также известен как сервер имен для домена. Например, сервером имен для tryhackme.com является kip.ns.cloudflare.com и uma.ns.cloudflare.com. 
Вы часто найдете несколько серверов имен для доменного имени, которые могут выступать в качестве резерва на случай выхода из строя одного из них.


 Авторитативный DNS-сервер — это сервер, который отвечает за хранение DNS-записей для конкретного доменного имени и на котором будут вноситься любые изменения в DNS-записи
вашего доменного имени. В зависимости от типа записи, запись DNS затем отправляется обратно на рекурсивный DNS-сервер, 
где локальная копия будет кэширована для будущих запросов, а затем ретранслирована обратно исходному клиенту, сделавшему запрос. 
Все записи DNS имеют значение TTL (Time To Live). Это значение представляет собой число, представленное в секундах, 
для которого ответ должен быть сохранен локально до тех пор, пока вам не придется искать его снова. Кэширование избавляет от необходимости делать DNS-запрос каждый раз,
когда вы взаимодействуете с сервером.

Вопрос: В каком поле указано, как долго должна быть кэширована запись DNS? На каком типе сервера хранятся все записи о домене?